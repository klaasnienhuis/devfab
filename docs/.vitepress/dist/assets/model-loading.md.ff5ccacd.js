import{h as E,j as I,o as q,c as L,k as r,U as O,a as g}from"./chunks/framework.b7c2ee65.js";function S(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var b={exports:{}};(function(i,u){(function(p,c){i.exports=c()})(self,()=>(()=>{var p={d:(e,s)=>{for(var n in s)p.o(s,n)&&!p.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:s[n]})},o:(e,s)=>Object.prototype.hasOwnProperty.call(e,s)},c={};function h(e){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},h(e)}p.d(c,{default:()=>k});var v=function(e,s){e.forEach(function(n){this[n]=function(){var t,a=s._requestIdCounter++,o=Array.prototype.slice.call(arguments);if(o.length>0){var l=o[o.length-1];typeof l=="function"&&(t=o.pop())}t&&(s._pendingRequests[a]=t.bind(this)),s._target.postMessage({type:"api.request",instanceId:s.getIdentifier(),requestId:a,member:n,arguments:o},s.getDomain())}},this),this.addEventListener=function(n,t,a){n==="viewerready"&&s.isViewerReady&&t(),s._eventListeners[n]||(s._eventListeners[n]=[]),s._eventListeners[n].push(t),a&&this.setListenerOptions&&(a.name=n,this.setListenerOptions(a))},this.removeEventListener=function(n,t){if(s._eventListeners[n]){var a=s._eventListeners[n].indexOf(t);a!==-1&&s._eventListeners[n].splice(a,1)}}},D=function(e,s,n){this._target=e,this._requestIdCounter=0,this._pendingRequests={},this._eventListeners={},this._ready=!1,this._domain=n,this._instanceId=s,this.listenServer()};D.prototype={getIdentifier:function(){return this._instanceId},getDomain:function(){return this._domain},setIdentifier:function(e){this._instanceId=e},use:function(e,s){this._version=e,this._ready=!0;var n=this._requestIdCounter++;this._pendingRequests[n]=(function(t,a,o){t?s.call(this,t):s.call(this,null,new v(o,this))}).bind(this),this._target.postMessage({type:"api.initialize",requestId:n,name:e,instanceId:this._instanceId},this._domain)},listenServer:function(){if(!this._serverReceiveMessageBinded){var e=["api.initialize.result","api.request.result","api.event"];this._serverReceiveMessageBinded=(function(s){if(s.origin===this._domain&&s.data&&s.data.type&&s.data.instanceId&&s.data.instanceId===this.getIdentifier()){var n=s.data.type;if(e.indexOf(n)!==-1)if(n==="api.event"){var t=s.data.results,a=t[0];if(this._eventListeners["*"]||this._eventListeners.all)return void["*","all"].forEach(function(y){var m=this._eventListeners[y];m&&m.forEach(function(_){_.apply(_,t)})},this);var o=t.slice(1),l=this._eventListeners[a];l?l.forEach(function(y){y.apply(y,o)}):a==="viewerready"&&(this.isViewerReady=!0)}else{var d=s.data.requestId,F=this._pendingRequests[d];if(!F)return;F.apply(null,s.data.results),this._pendingRequests[d]=void 0}}}).bind(this),window.addEventListener("message",this._serverReceiveMessageBinded)}}};const A=D;var C=/[&|;]+/g;function w(e){return h(e)==="object"?(s=e,n={},Object.keys(s).forEach(function(t){n[t]=Array.isArray(s[t])?s[t]:[s[t]]}),n):(e[0]==="?"&&(e=e.substr(1)),e.split(C).reduce(function(t,a){if(a.length===0)return t;var o=a.indexOf("=");o===-1&&(o=a.length);var l=decodeURIComponent(a.substr(0,o).replace(/\+/g,"%20")),d=decodeURIComponent(a.substr(o+1).replace(/\+/g,"%20"));return t[l]===void 0&&(t[l]=[]),t[l].push(d),t},{}));var s,n}window.SketchfabAPIClient=A;var f=function(e,s){var n=e,t=s;h(e)==="object"&&(t=e,n=null),this._version=n,this._target=t,window.sketchfabAPIinstances||(window.sketchfabAPIinstances=[]),window.sketchfabAPIinstances.push(this),this._apiId=window.sketchfabAPIinstances.length.toString(),this._target.id&&(this._apiId+="_"+this._target.id),this._target.allow||(this._target.allow="vr; autoplay; fullscreen"),this._client=void 0,this._options=void 0,this._domain="sketchfab.com",this._domain=this._domain==="same-as-current"?window.location.hostname:this._domain,this._urlTemplate="https://YYYY/models/XXXX/embed",this._url=this._urlTemplate.replace("YYYY",this._domain),this._transmitOptions={},this._getURLOptions()};f.prototype={_urlOptionsDict:{skfb_api_version:{default:"1.12.1",type:"string"}},_optionsLoaded:function(e){this._urlOptions=e,this._version=this._getURLOption("skfb_api_version",this._version)},_getURLOption:function(e,s){var n=this._urlOptionsDict[e];if(!n)return s;s==null&&(s=n.default);var t=this._urlOptions[e];return t&&t.length?t[0]:s},_getURLOptions:function(){if(!window||!window.location.search)return this._optionsLoaded({});var e=w(window.location.search);for(var s in e)s.startsWith("skfb_")&&(this._transmitOptions[s.substr(5)]=e[s]);return this._optionsLoaded(e)},getEmbedURL:function(e,s){var n=this._url+"?api_version="+this._version+"&api_id="+this._apiId;s&&Object.keys(s).forEach(function(a){s[a]!=null&&typeof s[a]!="function"&&(n+="&"+a.toString()+"="+s[a].toString())});var t=this._transmitOptions;return Object.keys(this._transmitOptions).forEach(function(a){n+="&"+a.toString()+"="+t[a].toString()}),n.replace("XXXX",e)},init:function(e,s){this._options=s,this._uid=e,this._realInit()},_initializeAPIEmbed:function(e){if(e.data&&e.data.instanceId&&this._apiId===e.data.instanceId&&e.data.type==="api.ready"&&this._target.src){if(e.data.error!==void 0)return this.error(e.data.error),void window.removeEventListener("message",this._initializeAPIEmbedBinded);var s=this._target.src.split("/");s="https://"+s[2],this._client&&(console.log("reusing a Sketchfab instance for multiple client is not supported, please create a new sketchfab instance"),window.removeEventListener("message",this._client._serverReceiveMessageBinded)),this._client=new window.SketchfabAPIClient(this._target.contentWindow,this._apiId,s),this._client.use(this._version,(function(n,t){if(n)throw n;this.success.call(this,t)}).bind(this)),window.removeEventListener("message",this._initializeAPIEmbedBinded)}},_realInit:function(){this._initializeAPIEmbedBinded||(this._initializeAPIEmbedBinded=this._initializeAPIEmbed.bind(this)),window.addEventListener("message",this._initializeAPIEmbedBinded),this._target.src=this.getEmbedURL(this._uid,this._options)},success:function(e){this._options.success&&typeof this._options.success=="function"&&this._options.success(e)},error:function(e){this._options.error&&typeof this._options.error=="function"&&this._options.error(e)},show:function(){var e=this._target.style.top;this._target.style.top="-1000vh",Promise.resolve().then((function(){this._target.style.top=e}).bind(this))}};const k=f;return c.default})())})(b);var P=b.exports;const R=S(P),j=O(`<h1 id="getting-started" tabindex="-1">Getting started <a class="header-anchor" href="#getting-started" aria-label="Permalink to &quot;Getting started&quot;">​</a></h1><p>Embedding a Sketchfab model in a website requires three things</p><ol><li>An iframe</li><li>The sketchfab-viewer <a href="https://static.sketchfab.com/api/sketchfab-viewer-1.12.1.js" target="_blank" rel="noreferrer">javascript library</a></li><li>A bit of code</li></ol><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight has-highlighted-lines"><code><span class="line"><span style="color:#89DDFF;">&lt;!</span><span style="color:#F07178;">DOCTYPE</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">html</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">en</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> &gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">head</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">iframe</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">api-frame</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">iframe</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line highlighted"><span style="color:#89DDFF;">  &lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://static.sketchfab.com/api/sketchfab-viewer-1.12.1.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">  &lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> iframe </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">api-frame</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> client </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Sketchfab</span><span style="color:#A6ACCD;">(iframe)</span><span style="color:#89DDFF;">;</span></span>
<span class="line highlighted"><span style="color:#A6ACCD;">    client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">init</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dGUrytaktlDeNudCEGKk31oTJY</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">body</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">html</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>This code example shows a fully functioning website containing these three parts.</p><h2 id="line-by-line" tabindex="-1">Line by line <a class="header-anchor" href="#line-by-line" aria-label="Permalink to &quot;Line by line&quot;">​</a></h2><p>On line 5 we have an empty iframe. This is where teh 3D model ends up in. You can apply CSS to this iframe, for instance setting the width or height.</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">iframe</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">id</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">api-frame</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">iframe</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>On line 6 we load the sketchfab api. The URL changes from time to time. Make sure to check the docs now and again for updates.</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">https://static.sketchfab.com/api/sketchfab-viewer-1.12.1.js</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span></code></pre></div><p>On line 8 and 9 we create a new sketchfab viewer instance that is bound to the iframe on this page.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> iframe </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getElementById</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">api-frame</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> client </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Sketchfab</span><span style="color:#A6ACCD;">(iframe)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><p>The final step on line 10 is loading a specific model with the viewer. The ID is what you&#39;d find in the model URL on sketchfab.com. You can load any model like this, it doesn&#39;t need to be a model in your own account.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">client</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">init</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dGUrytaktlDeNudCEGKk31oTJY</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span></code></pre></div><h2 id="exmple" tabindex="-1">Exmple <a class="header-anchor" href="#exmple" aria-label="Permalink to &quot;Exmple&quot;">​</a></h2><p>The sketchfab iframe is now populated with the 3D model and ready to go.</p>`,16),T=r("div",{class:"info custom-block"},[r("p",{class:"custom-block-title"},"Links"),r("p",null,[g("View this example on "),r("a",{href:"https://codepen.io/klaasnienhuis/pen/JjerBWr/b85e4d2bc3ef371e2486730725e1e892?editors=0010",target:"_blank",rel:"noreferrer"},"CodePen")]),r("p",null,[g("Read the Sketchfab "),r("a",{href:"https://sketchfab.com/developers/viewer",target:"_blank",rel:"noreferrer"},"docs")])],-1),U=JSON.parse('{"title":"Getting started","description":"","frontmatter":{},"headers":[],"relativePath":"model-loading.md","filePath":"model-loading.md"}'),x={name:"model-loading.md"},Y=Object.assign(x,{setup(i){const u=E(null);return I(()=>{new R(u.value).init("dGUrytaktlDeNudCEGKk31oTJY",{success:()=>console.log("Sketchfab API success"),error:()=>console.error("Sketchfab API error")})}),(p,c)=>(q(),L("div",null,[j,r("iframe",{style:{border:"0"},id:"api-iframe",ref_key:"viewerIframeRef",ref:u},null,512),T]))}});export{U as __pageData,Y as default};
